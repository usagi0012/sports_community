<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link rel="stylesheet" href="css/club.css" />
    </head>
    <body>
        <div class="club">
            <button onclick="openModal()">동아리 생성</button>
        </div>

        <div class="title">
            <div>번호</div>
            <div>동아리명</div>
            <div>지역</div>
            <div>동아리장</div>
            <div>점수</div>
        </div>

        <!-- 동아리 생성 모달창 -->
        <div id="creatClubModal" class="modal">
            <div class="modal-content">
                <label for="name">이름:</label>
                <input type="text" id="name" />
                <br />
                <label for="location">지역:</label>
                <input type="text" id="location" />
                <br />
                <label for="description">설명:</label>
                <textarea id="description"></textarea>
                <br />
                <input type="file" id="fileInput" />
                <br />
                <button onclick="submitForm()">제출</button>
                <button onclick="closeModal()">닫기</button>
            </div>
        </div>
        <div class="club-list"></div>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script type="module" src="./js/club.js"></script>
        <!-- <script src="./js/club-detail.js"></script> -->
        <script>
            function openModal() {
                document.getElementById("creatClubModal").style.display =
                    "flex";
            }

            function closeModal() {
                document.getElementById("creatClubModal").style.display =
                    "none";
            }

            function submitForm() {
                const name = document.getElementById("name").value;
                const region = document.getElementById("location").value;
                const description =
                    document.getElementById("description").value;
                const file = document.getElementById("fileInput").files[0];
                axios
                    .post("/api/club", {
                        name: name,
                        region: region,
                        description: description,
                    })
                    .then(function (response) {})
                    .catch(function (error) {
                        console.log(error.response);
                    });

                //폼 제출 후 모달 닫기
                closeModal();
            }
        </script>
    </body>
</html>
